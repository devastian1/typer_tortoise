<div class="container">
  <nav class="blue-round">
    <ul class="nav-options">
      <li>{{#link-to 'snippets.index'}}Index{{/link-to}}</li>
      <li>{{#link-to 'snippet.index' model.snippet_id}}View{{/link-to}}</li>
      <li>{{#link-to 'snippet.play' model.snippet_id}}Play{{/link-to}}</li>
      {{#if session.user.admin}}
        <li>{{#link-to 'snippets.new'}}Add a Snippet{{/link-to}}</li>
      {{/if}}
    </ul>
  </nav>

  <p>A snippet in the <strong>{{model.category_name}}</strong> category.</p>

  <div class="edit_snippet">
    <div class="form-inline">
      <label>
        Category
        <select onchange={{action 'categoryChanged' value='target.value'}} class='form-control'>
          {{#each categories.model key="@index" as |category|}}
            <option value="{{category.id}}" selected={{is-equal category.id model.category_id}}>
              {{category.name}}
            </option>
          {{/each}}
        </select>
      </label>
    </div>

    <div>
      {{textarea value=model.full_string rows=20 class='snippet-editor' name='snippet[full_text]'}}
    </div>
    <div class="actions">
      <button class="btn btn-primary" disabled={{snippetInvalid}}
        {{action 'submitAction'}}>Update Snippet
      </button>
    </div>
  </div>
</div>
